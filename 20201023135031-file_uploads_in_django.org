#+title: File Uploads in Django
* [[id:0a8fff64-4147-4514-af3c-724f4e6c8250][how the staticfiles app handles uploads and permissions]].
* ref
** main Django docs on file uploads
go here
 https://docs.djangoproject.com/en/3.1/
and search for "upload"
** TODO if not covered by the above
*** Binding uploaded files (in "The Forms API")
 https://docs.djangoproject.com/en/3.1/ref/forms/api/#binding-uploaded-files
* overview
** ref
File Uploads | Django documentation | Django
https://docs.djangoproject.com/en/3.1/topics/http/file-uploads/
** create a forms.py file
see `class UploadFileForm` in my file `polls/forms.py`
** modify views.py
*** sample code
views.py
from django.http import HttpResponseRedirect
from django.shortcuts import render
from .forms import UploadFileForm

# Imaginary function to handle an uploaded file.
from somewhere import handle_uploaded_file

def upload_file(request):
    if request.method == 'POST':
        form = UploadFileForm(request.POST, request.FILES)
        if form.is_valid():
            handle_uploaded_file(request.FILES['file'])
            return HttpResponseRedirect('/success/url/')
    else:
        form = UploadFileForm()
    return render(request, 'upload.html', {'form': form})
